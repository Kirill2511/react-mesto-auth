{"version":3,"sources":["images/logo.svg","components/Header.js","images/avatar.jpg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/FormWithPopup.js","components/HandlerSubmit.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/DeletePopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/InfoTooltip.js","utils/auth.js","components/ProtectedRoute.js","images/authSuccess.svg","images/authError.svg","components/App.js","reportWebVitals.js","index.js"],"names":["Header","loggingIn","userEmail","onSignOut","className","alt","src","logo","exact","path","to","onClick","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","aria-label","name","type","onCardDelete","link","onCardClick","onCardLike","length","Main","onEditAvatar","srcSet","avatar","onEditProfile","about","onAddPlace","cards","map","Footer","ImagePopup","onClose","api","config","this","url","headers","res","ok","json","Promise","reject","Error","status","fetch","then","_getResponseData","method","data","body","JSON","stringify","cardID","cardId","authorization","PopupWithForm","isOpen","title","onSubmit","action","noValidate","children","HandlerSubmit","button","EditAvatarPopup","changeAvatar","useRef","isClose","e","preventDefault","onUpdateAvatar","current","value","ref","id","placeholder","required","isLoading","EditProfilePopup","useState","setName","description","setDescription","useEffect","onUpdateUser","onChange","event","target","maxLength","minLength","DeletePopup","onDelete","AddPlacePopup","setNameCard","setLinkCard","postNewCard","evt","autoComplete","Login","onLogin","email","password","setData","handleChange","Register","onRegister","InfoTooltip","image","message","BASE_URL","checkResponse","ProtectedRoute","App","setIsLoading","isEditProfilePopupOpen","setEditProfile","isEditAvatarPopupOpen","setEditAvatar","isAddPlacePopupOpen","setAddCard","deletedCard","setDeletedCard","isPopupWithDeleteOpen","setPopupWithDelete","selectedCard","setSelectedCard","isPopupImageOpen","setPopupImage","setCurrentUser","setCards","setLoggingIn","setEmail","isInfoTooltipOpen","setIsInfoTooltipOpen","tooltipImage","setTooltipImage","setMessage","history","useHistory","tokenCheck","token","localStorage","getItem","Accept","Authorization","auth","push","catch","error","console","log","closeAllPopups","handlerEscClose","key","closeByOverlay","classList","contains","document","addEventListener","removeEventListener","all","getInitialCards","getUserInfo","userData","err","Provider","removeItem","dislikeCard","newCard","newCards","c","likeCard","setItem","authError","authSuccess","item","setUserAvatar","finally","items","setUserInfo","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9538b35d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import React from 'react';\r\nimport { Link, Route } from 'react-router-dom';\r\nimport logo from '../images/logo.svg';\r\n\r\nfunction Header({ loggingIn, userEmail, onSignOut }) {\r\n  return (\r\n    <header className=\"header\">\r\n      <img alt=\"Логотип «Mesto Russia»\" className=\"header__logo\" src={logo} />\r\n      <div className=\"header__section\">\r\n        {loggingIn && (\r\n          <Route exact path=\"/\">\r\n            <p className=\"header__email\">{userEmail}</p>\r\n            <Link\r\n              to=\"/signin\"\r\n              className=\"header__button-logout\"\r\n              onClick={onSignOut}\r\n            >\r\n              Выйти\r\n            </Link>\r\n          </Route>\r\n        )}\r\n        <Route path=\"/singin\">\r\n          <Link to=\"/signup\" className=\"header__link\">\r\n            Регистрация\r\n          </Link>\r\n        </Route>\r\n        <Route path=\"/signup\">\r\n          <Link to=\"/signin\" className=\"header__link\">\r\n            Вход\r\n          </Link>\r\n        </Route>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/avatar.bbe7c5b6.jpg\";","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;\r\n","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n  const cardDeleteButtonClassName = `element__delete ${\r\n    isOwn ? '' : 'element__delete_invisible'\r\n  }`;\r\n\r\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  const cardLikeButtonClassName = `element__heart ${\r\n    isLiked ? 'element__heart_active' : ''\r\n  }`;\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <button\r\n        aria-label=\"Удалить\"\r\n        className={cardDeleteButtonClassName}\r\n        name=\"Удалить\"\r\n        type=\"submit\"\r\n        onClick={handleCardDelete}\r\n      />\r\n      <img\r\n        src={props.card.link}\r\n        alt={props.card.name}\r\n        className=\"element__image\"\r\n        onClick={handleClick}\r\n      />\r\n      <div className=\"element__container\">\r\n        <h2 className=\"element__title\">{props.card.name}</h2>\r\n        <div className=\"element__container_like\">\r\n          <button\r\n            aria-label=\"Лайк\"\r\n            className={cardLikeButtonClassName}\r\n            name=\"Лайк\"\r\n            type=\"submit\"\r\n            onClick={handleLikeClick}\r\n          />\r\n          <p className=\"card__count-likes\">{props.card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport avatar from '../images/avatar.jpg';\r\nimport Card from './Card';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <button\r\n          className=\"button profile__edit-avatar\"\r\n          type=\"button\"\r\n          onClick={props.onEditAvatar}\r\n        >\r\n          <img\r\n            alt=\"жак-ив\"\r\n            className=\"profile__avatar\"\r\n            srcSet={currentUser.avatar}\r\n            src={avatar}\r\n          />\r\n        </button>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__wrapper\">\r\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n            <button\r\n              aria-label=\"Редактировать профиль\"\r\n              className=\"profile__edit-button\"\r\n              type=\"button\"\r\n              onClick={props.onEditProfile}\r\n            />\r\n          </div>\r\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          aria-label=\"Добавить карточку\"\r\n          className=\"profile__add-button\"\r\n          type=\"button\"\r\n          onClick={props.onAddPlace}\r\n        />\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__container\">\r\n          {props.cards.map((card) => (\r\n            <Card\r\n              key={card._id}\r\n              card={card}\r\n              onCardClick={props.onCardClick}\r\n              onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n  return (\r\n    <div className={`popup popup_card-image ${card && 'popup_opened'}`}>\r\n      <div className=\"popup__gallery\">\r\n        <img\r\n          src={card && card.link}\r\n          alt={card && card.name}\r\n          className=\"popup__image\"\r\n        />\r\n        <h2 className=\"popup__card-about\">{card && card.name}</h2>\r\n        <button\r\n          aria-label=\"Закрыть\"\r\n          className=\"popup__close-icon\"\r\n          type=\"button\"\r\n          onClick={onClose}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","export default class Api {\r\n  constructor(config) {\r\n    this.url = config.url;\r\n    this.headers = config.headers;\r\n  }\r\n\r\n  _getResponseData(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this.url}/cards`, {\r\n      headers: this.headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this.url}/users/me`, {\r\n      method: 'GET',\r\n      headers: this.headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  postNewCard(data) {\r\n    return fetch(`${this.url}/cards`, {\r\n      method: 'POST',\r\n      headers: this.headers,\r\n      body: JSON.stringify(data),\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  setUserInfo(data) {\r\n    return fetch(`${this.url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      }),\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  setUserAvatar(data) {\r\n    return fetch(`${this.url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar,\r\n      }),\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  deleteCard(cardID) {\r\n    return fetch(`${this.url}/cards/${cardID}`, {\r\n      method: 'DELETE',\r\n      headers: this.headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  likeCard(cardId) {\r\n    return fetch(`${this.url}/cards/likes/${cardId}`, {\r\n      method: 'PUT',\r\n      headers: this.headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  dislikeCard(cardId) {\r\n    return fetch(`${this.url}/cards/likes/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this.headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-16',\r\n  headers: {\r\n    authorization: '4a48037a-5d1b-4b03-8646-b4d3a5383564',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div\r\n      className={`popup popup__${props.name} ${\r\n        props.isOpen ? 'popup_opened' : ''\r\n      }`}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <button\r\n          aria-label=\"Закрыть\"\r\n          className=\"popup__close-icon popup__close\"\r\n          type=\"button\"\r\n          onClick={props.onClose}\r\n        />\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        <form\r\n          className=\"popup__fields popup__form-avatar\"\r\n          name={`${props.name}`}\r\n          onSubmit={props.onSubmit}\r\n          action=\"#\"\r\n          noValidate\r\n        >\r\n          {props.children}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\n\r\nfunction HandlerSubmit(props) {\r\n  return (\r\n    <button type=\"submit\" className={'popup__button'}>\r\n      {props.onClick ? 'Сохранение...' : props.button}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default HandlerSubmit;\r\n","import React from 'react';\r\nimport PopupWithForm from './FormWithPopup';\r\nimport HandlerSubmit from './HandlerSubmit';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const changeAvatar = React.useRef('');\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: changeAvatar.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avatar\"\r\n      title=\"Обновить аватар\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.isClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <input\r\n          className=\"popup__item popup__input_avatar-link\"\r\n          ref={changeAvatar}\r\n          id=\"link-avatar\"\r\n          name=\"avatar\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n          type=\"url\"\r\n        />\r\n        <span className=\"popup__input-error\" id=\"link-avatar-error\" />\r\n      </label>\r\n\r\n      <HandlerSubmit button=\"Сохранить\" onClick={props.isLoading} />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './FormWithPopup';\r\nimport HandlerSubmit from './HandlerSubmit';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleChangeName(event) {\r\n    setName(event.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(event) {\r\n    setDescription(event.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit\"\r\n      title=\"Редактировать профиль\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.isClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <input\r\n          value={name || ''}\r\n          onChange={handleChangeName}\r\n          className=\"popup__item popup__name\"\r\n          id=\"name-input\"\r\n          maxLength=\"40\"\r\n          minLength=\"2\"\r\n          name=\"name\"\r\n          placeholder=\"Имя\"\r\n          required\r\n          type=\"text\"\r\n        />\r\n        <span className=\"popup__input-error\" id=\"name-input-error\" />\r\n      </label>\r\n      <label className=\"popup__label\">\r\n        <input\r\n          value={description || ''}\r\n          onChange={handleChangeDescription}\r\n          className=\"popup__item popup__about\"\r\n          id=\"activity-input\"\r\n          maxLength=\"200\"\r\n          minLength=\"2\"\r\n          name=\"about\"\r\n          placeholder=\"Обо мне\"\r\n          required\r\n          type=\"text\"\r\n        />\r\n        <span className=\"popup__input-error\" id=\"activity-input-error\" />;\r\n      </label>\r\n\r\n      <HandlerSubmit button=\"Сохранить\" onClick={props.isLoading} />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './FormWithPopup';\r\n\r\nfunction DeletePopup(props) {\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onDelete();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"delete\"\r\n      title=\"Вы уверены?\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.isClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <button\r\n        aria-label=\"Да\"\r\n        className=\"popup__button popup__button_card-delete\"\r\n        name=\"submit\"\r\n        type=\"submit\"\r\n      >\r\n        {props.isLoading ? 'Удаление...' : 'Да'}\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default DeletePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './FormWithPopup';\r\nimport HandlerSubmit from './HandlerSubmit';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setNameCard] = React.useState('');\r\n  const [link, setLinkCard] = React.useState('');\r\n\r\n  function handleSubmitCard(e) {\r\n    e.preventDefault();\r\n    props.postNewCard({ name, link });\r\n  }\r\n\r\n  function handleNameCard(evt) {\r\n    setNameCard(evt.target.value);\r\n  }\r\n\r\n  function handleLinkCard(evt) {\r\n    setLinkCard(evt.target.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add\"\r\n      title=\"Новое место\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.isClose}\r\n      onSubmit={handleSubmitCard}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <input\r\n          value={name || ''}\r\n          onChange={handleNameCard}\r\n          id=\"title-input\"\r\n          className=\"popup__item popup__input-name\"\r\n          type=\"text\"\r\n          name=\"title\"\r\n          required\r\n          placeholder=\"Название\"\r\n          minLength=\"1\"\r\n          maxLength=\"30\"\r\n          autoComplete=\"off\"\r\n        />\r\n        <span className=\"popup__input-error\" id=\"place-input-error\" />\r\n      </label>\r\n      <label className=\"popup__label\">\r\n        <input\r\n          value={link || ''}\r\n          onChange={handleLinkCard}\r\n          className=\"popup__item popup__input-url\"\r\n          id=\"link-input\"\r\n          type=\"url\"\r\n          name=\"url\"\r\n          required\r\n          placeholder=\"Ссылка на картинку\"\r\n          autoComplete=\"off\"\r\n        />\r\n        <span className=\"popup__input-error\" id=\"link-input-error\" />\r\n      </label>\r\n      <HandlerSubmit button=\"Создать\" onClick={props.isLoading} />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Login({ onLogin }) {\r\n  const [data, setData] = React.useState({ email: '', password: '' });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setData({\r\n      ...data,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { email, password } = data;\r\n    onLogin(email, password);\r\n  };\r\n\r\n  return (\r\n    <section className=\"auth\">\r\n      <div className=\"auth-container\">\r\n        <h3 className=\"auth__title\">Вход</h3>\r\n        <form className=\"auth__form\" onSubmit={handleSubmit}>\r\n          <input\r\n            onChange={handleChange}\r\n            className=\"auth__input\"\r\n            id=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Email\"\r\n            autoComplete=\"off\"\r\n            value={data.email}\r\n          />\r\n          <input\r\n            onChange={handleChange}\r\n            className=\"auth__input\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Password\"\r\n            type=\"password\"\r\n            value={data.password}\r\n          />\r\n          <button className=\"auth__button-submit\" type=\"submit\">\r\n            Войти\r\n          </button>\r\n          <div className=\"auth__container-register\">\r\n            <p className=\"auth__register\">\r\n              Еще не зарегистрированы?\r\n              <Link to=\"/signup\" className=\"auth__link\">\r\n                &nbsp;Зарегистрироваться\r\n              </Link>\r\n            </p>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Register({ onRegister }) {\r\n  const [data, setData] = React.useState({ email: '', password: '' });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setData({\r\n      ...data,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { email, password } = data;\r\n    onRegister(email, password);\r\n  };\r\n\r\n  return (\r\n    <section className=\"auth\">\r\n      <div className=\"auth__container\">\r\n        <h3 className=\"auth__title\">Регистрация</h3>\r\n        <form className=\"auth__form\" onSubmit={handleSubmit}>\r\n          <input\r\n            onChange={handleChange}\r\n            className=\"auth__input\"\r\n            id=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Email\"\r\n            autoComplete=\"off\"\r\n            value={data.email}\r\n          />\r\n          <input\r\n            className=\"auth__input\"\r\n            onChange={handleChange}\r\n            id=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Password\"\r\n            type=\"password\"\r\n            value={data.password}\r\n          />\r\n          <button className=\"auth__button-submit\" type=\"submit\">\r\n            Зарегистрироваться\r\n          </button>\r\n          <div className=\"auth__container-register\">\r\n            <p className=\"auth__register\">\r\n              Уже зарегистрированы?\r\n              <Link to=\"/signin\" className=\"auth__link\">\r\n                &nbsp;Войти\r\n              </Link>\r\n            </p>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from 'react';\r\n\r\nfunction InfoTooltip({\r\n  onClose, isOpen, image, message,\r\n}) {\r\n  return (\r\n    <section className={`popup popup__tooltip ${isOpen && 'popup_opened'}`}>\r\n      <div className=\"popup__container\">\r\n        <img className=\"popup__tooltip\" src={image} alt=\"Статус\" />\r\n        <h2 className=\"popup__tooltip-message\">{message}</h2>\r\n        <button\r\n          aria-label=\"Закрыть\"\r\n          className=\"popup__close-icon\"\r\n          type=\"button\"\r\n          onClick={onClose}\r\n        />\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nconst checkResponse = (res) => {\r\n  if (res.ok) return res.json();\r\n  return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n};\r\n\r\nexport const register = (email, password) => fetch(`${BASE_URL}/signup`, {\r\n  method: 'POST',\r\n  headers: {\r\n    Accept: 'application/json',\r\n    'Content-Type': 'application/json',\r\n  },\r\n  body: JSON.stringify({ email, password }),\r\n}).then(checkResponse);\r\n\r\nexport const authorize = (email, password) => fetch(`${BASE_URL}/signin`, {\r\n  method: 'POST',\r\n  headers: {\r\n    Accept: 'application/json',\r\n    'Content-Type': 'application/json',\r\n  },\r\n  body: JSON.stringify({ email, password }),\r\n}).then(checkResponse);\r\n\r\nexport const checkToken = (token) => fetch(`${BASE_URL}/users/me`, {\r\n  method: 'GET',\r\n  headers: {\r\n    Accept: 'application/json',\r\n    'Content-Type': 'application/json',\r\n    Authorization: `Bearer ${token}`,\r\n  },\r\n}).then(checkResponse);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ loggingIn, ...props }) => (\r\n  <Route>\r\n    {() => (loggingIn === true ? <Route {...props} /> : <Redirect to=\"/signin\" />)\r\n    }\r\n  </Route>\r\n);\r\n\r\nexport default ProtectedRoute;\r\n","export default __webpack_public_path__ + \"static/media/authSuccess.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/authError.d4ce2a26.svg\";","import React from 'react';\r\nimport {\r\n  Switch, Route, Redirect, useHistory,\r\n} from 'react-router-dom';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport ImagePopup from './ImagePopup';\r\nimport { api } from '../utils/api';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport DeletePopup from './DeletePopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport * as auth from '../utils/auth';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport authSuccess from '../images/authSuccess.svg';\r\nimport authError from '../images/authError.svg';\r\n\r\nfunction App() {\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n  const [isEditProfilePopupOpen, setEditProfile] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatar] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddCard] = React.useState(false);\r\n  const [deletedCard, setDeletedCard] = React.useState(null);\r\n  const [isPopupWithDeleteOpen, setPopupWithDelete] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n  const [isPopupImageOpen, setPopupImage] = React.useState(false);\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  const [loggingIn, setLoggingIn] = React.useState(false);\r\n  const [email, setEmail] = React.useState('');\r\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\r\n  const [tooltipImage, setTooltipImage] = React.useState('');\r\n  const [message, setMessage] = React.useState('');\r\n  const history = useHistory();\r\n\r\n  function tokenCheck() {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      auth\r\n        .checkToken(token)\r\n        .then((res) => {\r\n          if (res.data.email) {\r\n            setEmail(res.data.email);\r\n            setLoggingIn(true);\r\n            history.push('/');\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          if (error === 400) console.log('Токен не передан или не верен');\r\n          if (error === 401) console.log('Токен не корректен');\r\n        });\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    tokenCheck();\r\n  }, []);\r\n\r\n  function onRegister(email, password) {\r\n    auth\r\n      .register(email, password)\r\n      .then((res) => {\r\n        if (res.data.email) {\r\n          setIsInfoTooltipOpen(true);\r\n          setTooltipImage(authSuccess);\r\n          setLoggingIn(true);\r\n          setMessage('Вы успешно зарегистрировались!');\r\n          history.push('/signin');\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        setIsInfoTooltipOpen(true);\r\n        setTooltipImage(authError);\r\n        setMessage('Что-то пошло не так!  Попробуйте ещё раз.');\r\n        if (error === 'Ошибка: 400') console.log('некорректно заполнены данные');\r\n      });\r\n  }\r\n\r\n  function onLogin(email, password) {\r\n    auth\r\n      .authorize(email, password)\r\n      .then((res) => {\r\n        if (res.token) {\r\n          localStorage.setItem('token', res.token);\r\n          setLoggingIn(true);\r\n          setEmail(email);\r\n          history.push('/');\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        setIsInfoTooltipOpen(true);\r\n        setTooltipImage(authError);\r\n        setMessage('Что-то пошло не так! Попробуйте ещё раз.');\r\n        if (error === 'Ошибка: 400') {\r\n          console.log('не передано одно из полей');\r\n        } else if (error === 'Ошибка: 401') {\r\n          console.log('Пользователь с данным email не найден');\r\n        }\r\n      });\r\n  }\r\n\r\n  function onSignOut() {\r\n    localStorage.removeItem('token');\r\n    setLoggingIn(false);\r\n    setEmail('');\r\n    history.push('/singin');\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfile(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatar(true);\r\n  }\r\n\r\n  function handleAddCardClick() {\r\n    setAddCard(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setPopupImage(true);\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function handleDeleteClick(card) {\r\n    setPopupWithDelete(true);\r\n    setDeletedCard(card);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditProfile(false);\r\n    setEditAvatar(false);\r\n    setAddCard(false);\r\n    setPopupImage(false);\r\n    setPopupWithDelete(false);\r\n    setSelectedCard(null);\r\n    setDeletedCard(null);\r\n    setIsInfoTooltipOpen(false);\r\n  }\r\n\r\n  function handlerEscClose(evt) {\r\n    if (evt.key === 'Escape') {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  function closeByOverlay(evt) {\r\n    if (evt.target.classList.contains('popup')) {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    document.addEventListener('keydown', handlerEscClose);\r\n    document.addEventListener('click', closeByOverlay);\r\n    return () => {\r\n      document.removeEventListener('keydown', handlerEscClose);\r\n      document.removeEventListener('click', closeByOverlay);\r\n    };\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getInitialCards(), api.getUserInfo()])\r\n      .then(([cards, userData]) => {\r\n        setCurrentUser(userData);\r\n        setCards(cards);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    if (!isLiked) {\r\n      api\r\n        .likeCard(card._id)\r\n        .then((newCard) => {\r\n          const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n          setCards(newCards);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    } else {\r\n      api\r\n        .dislikeCard(card._id)\r\n        .then((newCard) => {\r\n          const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n          setCards(newCards);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    }\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    setIsLoading(true);\r\n    api\r\n      .deleteCard(deletedCard._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => c._id !== deletedCard._id);\r\n        setCards(newCards);\r\n        closeAllPopups();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  }\r\n\r\n  function handleUpdateUser(items) {\r\n    setIsLoading(true);\r\n    api\r\n      .setUserInfo(items)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(item) {\r\n    setIsLoading(true);\r\n    api\r\n      .setUserAvatar(item)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  }\r\n\r\n  function handleAddPlaceSubmit(newCard) {\r\n    setIsLoading(true);\r\n    api\r\n      .postNewCard(newCard)\r\n      .then((newCard) => setCards([newCard, ...cards]))\r\n      .catch((err) => console.log(err))\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n        closeAllPopups();\r\n      });\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header loggingIn={loggingIn} userEmail={email} onSignOut={onSignOut} />\r\n        <Switch>\r\n          <ProtectedRoute exact path=\"/\" loggingIn={loggingIn}>\r\n            <Main\r\n              cards={cards}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddCardClick}\r\n              onCardClick={handleCardClick}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleDeleteClick}\r\n            />\r\n          </ProtectedRoute>\r\n          <Route path=\"/singin\">\r\n            <Login onLogin={onLogin} />\r\n          </Route>\r\n          <Route path=\"/signup\">\r\n            <Register onRegister={onRegister} />\r\n          </Route>\r\n          <Route>\r\n            {loggingIn ? <Redirect to=\"/\" /> : <Redirect to=\"/singin\" />}\r\n          </Route>\r\n        </Switch>\r\n        {loggingIn && <Footer />}\r\n\r\n        {/* Попат обновления аватара */}\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          isClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          isLoading={isLoading}\r\n        />\r\n\r\n        {/* Попат редактирования профиля */}\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          isClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n          isLoading={isLoading}\r\n        />\r\n\r\n        {/* Попат добавления карточки */}\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          isClose={closeAllPopups}\r\n          postNewCard={handleAddPlaceSubmit}\r\n          isLoading={isLoading}\r\n        />\r\n\r\n        {/* Попат подтверждения */}\r\n        <DeletePopup\r\n          isOpen={isPopupWithDeleteOpen}\r\n          isClose={closeAllPopups}\r\n          onDelete={handleCardDelete}\r\n          card={deletedCard}\r\n          isLoading={isLoading}\r\n        />\r\n\r\n        {/* Попат увеличения картинки */}\r\n        <ImagePopup\r\n          isOpen={isPopupImageOpen}\r\n          onClose={closeAllPopups}\r\n          card={selectedCard}\r\n        />\r\n\r\n        <InfoTooltip\r\n          isOpen={isInfoTooltipOpen}\r\n          onClose={closeAllPopups}\r\n          image={tooltipImage}\r\n          message={message}\r\n          loggingIn={loggingIn}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({\r\n      getCLS, getFID, getFCP, getLCP, getTTFB,\r\n    }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}